<!doctype html>
<html lang="sv" data-page="ritverktyg">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Ritverktyg för bordsplacering – skapa bordsplan online (gratis) | EverAfter by Ester</title>
  <meta name="description" content="Bygg sittplan för bröllop & fest. Runda bord & långbord, gästlista, checklista, export som bild/CSV.">
  <link rel="canonical" href="https://www.everafterbyester.se/ritverktyg.html">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="EverAfter by Ester">
  <meta property="og:locale" content="sv_SE">
  <meta property="og:title" content="Ritverktyg för bordsplacering – skapa bordsplan online (gratis) | EverAfter by Ester">
  <meta property="og:description" content="Bygg sittplan för bröllop & fest. Runda bord & långbord, gästlista, checklista, export som bild/CSV.">
  <meta property="og:url" content="https://www.everafterbyester.se/ritverktyg.html">
  <meta property="og:image" content="https://www.everafterbyester.se/assets/OG.jpeg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Exempel på bordsplan i EverAfter by Ester">

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Ritverktyg för bordsplacering – skapa bordsplan online (gratis)">
  <meta name="twitter:description" content="Bygg sittplan för bröllop & fest. Runda bord & långbord, gästlista, checklista, export som bild/CSV.">
  <meta name="twitter:image" content="https://www.everafterbyester.se/assets/OG.jpeg">

  <!-- SoftwareApplication / WebApplication schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": ["SoftwareApplication", "WebApplication"],
    "name": "Ritverktyg för bordsplacering",
    "url": "https://www.everafterbyester.se/ritverktyg.html",
    "applicationCategory": "ProductivityApplication",
    "operatingSystem": "Web",
    "inLanguage": "sv-SE",
    "description": "Bygg sittplan för bröllop & fest. Runda bord & långbord, gästlista, checklista, export som bild/CSV.",
    "image": "https://www.everafterbyester.se/assets/OG.jpg",
    "screenshot": "https://www.everafterbyester.se/assets/OG.jpg",
    "publisher": {
      "@type": "Organization",
      "name": "EverAfter by Ester",
      "logo": { "@type": "ImageObject", "url": "https://www.everafterbyester.se/assets/logo.jpg" }
    },
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "SEK", "availability": "https://schema.org/InStock" },
    "browserRequirements": "Kräver modern webbläsare med JavaScript aktiverat",
    "potentialAction": { "@type": "UseAction", "target": "https://www.everafterbyester.se/ritverktyg.html" },
    "keywords": "bordsplacering, bröllop, bordsplan, gästlista, sittplan, långbord, runda bord, mall"
  }
  </script>

  <!-- Ikonfont -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"></noscript>

  <!-- CSS -->
  <link rel="stylesheet" href="./styles/base.css">
  <link rel="stylesheet" href="./styles/ritverktyg.css">
</head>
<body class="site">
  ...

  <!-- ===== Site-header (samma som startsidan) ===== -->
  <header class="site-header">
    <div class="container header__row">
      <a class="brand" href="/index.html">
        <img src="./assets/logo.jpg" alt="Logotyp" class="brand__logo" />
        <span class="brand__name">Planeringsverktyg</span>
      </a>

      <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">
        <span class="sr-only">Öppna meny</span> ☰
      </button>

      <nav id="site-nav" class="nav" aria-label="Huvudmeny">
        <ul class="nav__list">
          <li><a class="nav__link"               href="/index.html"     data-i18n="nav_home">Hem</a></li>
          <li><a class="nav__link nav__link--active" href="/ritverktyg.html" data-i18n="nav_tool">Ritverktyg</a></li>
          <li><a class="nav__link"               href="/galleri.html"   data-i18n="nav_gallery">Galleri</a></li>
          <li><a class="nav__link"               href="/kontakt.html"   data-i18n="nav_contact">Kontakt</a></li>
        </ul>
        <!-- istället för <a class="lang-switch" href="./en/ritverktyg.html">EN</a> -->
<button id="lang-toggle" class="lang-switch" type="button" aria-label="Byt språk">EN</button>

      </nav>
    </div>
  </header>

  <!-- ===== Innehåll ===== -->
  <main class="site-main">
    <!-- NYTT: Appbar som samlar rubrik + språk + verktyg i ett kort -->
    <div id="appbarWrapper" class="container">
      <div class="appbar">
        <!-- Rad 1: Rubrik + språkknapp -->
        <div class="appbar__row appbar__row--top">
          <div class="title-input-group">
            <input
  type="text"
  id="titleInput"
  placeholder="Skriv din rubrik här"             
  data-i18n-placeholder="title_placeholder"
  oninput="onTitleChange(); onPlanChanged();"
/>

          </div>
          <!-- I .appbar__row--top -->
<button id="toolsToggle" class="tools-toggle" aria-controls="toolbar" aria-expanded="false">
  ☰ Meny
</button>


        </div>
        

        <!-- Rad 2: Dina befintliga kontroller (oförändrade ID:n + data-i18n) -->
        <div id="toolbar" class="appbar__row appbar__row--tools">
          <button id="openHelpBtn" class="btn--ghost"
  data-i18n-aria-label="btn_open_help" aria-label="How it works">
  <span class="material-icons btn-icon" aria-hidden="true">help_outline</span>
  <span data-i18n="btn_howto">How it works</span>
</button>
<select id="templateSelect" data-close-on-change>
  <option value="" data-i18n="templates_menu"></option>
  <option value="round50" data-i18n="tpl_round50"></option>
  <option value="round100" data-i18n="tpl_round100"></option>
  <option value="round64circle" data-i18n="tpl_round64circle"></option>
  <option value="banquet96" data-i18n="tpl_banquet96"></option>
  <option value="headPlusRounds56" data-i18n="tpl_headPlusRounds56"></option>
</select>






          <select id="tableType" data-keep-menu>
            <option value="round-6" data-i18n="opt_round6">Runt bord – 6 platser</option>
            <option value="round-8" data-i18n="opt_round8">Runt bord – 8 platser</option>
            <option value="rect-4"  data-i18n="opt_rect4">Rektangulärt bord – 4 platser</option>
            <option value="rect-6"  data-i18n="opt_rect6">Rektangulärt bord – 6 platser</option>
            <option value="rect-8"  data-i18n="opt_rect8">Rektangulärt bord – 8 platser</option>
          </select>

          <button onclick="addSelectedTable()">
            <span class="material-icons btn-icon">add</span>
            <span data-i18n="btn_add_table">Lägg till bord</span>
          </button>

          

          <button onclick="addGuest()" id="addGuestBtn" data-i18n-aria-label="btn_add_guest" aria-label="Lägg till gäst">
            <span class="material-icons btn-icon" aria-hidden="true">person_add</span>
            <span data-i18n="btn_add_guest">Lägg till gäst</span>
          </button>

          <button
  id="aiSeatingBtn"
  type="button"
  data-i18n-aria-label="btn_ai_seating"
  aria-label="AI-placering">
  <span class="material-icons btn-icon" aria-hidden="true">auto_awesome</span>
  <span data-i18n="btn_ai_seating">AI-placering</span>
</button>

          
          
          <button id="wallToolBtn" type="button" aria-pressed="false"
  data-i18n-title="title_draw_wall" title="Draw wall">
  <span class="material-icons btn-icon" aria-hidden="true">architecture</span>
  <span data-i18n="btn_draw_wall">Draw wall</span>
</button>

          <button onclick="saveAsImage()" id="saveAsImageBtn" data-i18n-aria-label="btn_save_As_Image" aria-label="Spara bild">
            <span class="material-icons btn-icon">arrow_downward</span>
            <span data-i18n="btn_save_As_Image">Spara bild</span>
          </button>

          <button onclick="createGuestList()" id="createGuestListBtn" data-i18n-aria-label="btn_create_GuestList" aria-label="Skapa gästlista">
            <span class="material-icons btn-icon">dehaze</span>
            <span data-i18n="btn_create_GuestList">Skapa gästlista</span>
          </button>

          <button id="openChecklistBtn" data-i18n-aria-label="btn_open_Checklist" aria-label="Skapa checklista">
            <span class="material-icons btn-icon">checklist</span>
            <span data-i18n="btn_open_Checklist">Skapa checklista</span>
          </button>

          <button id="saveJsonBtn" title="Spara som JSON" data-i18n-title="title_save_json">
            <span class="material-icons btn-icon" aria-hidden="true">save</span>
            <span data-i18n="btn_save_json">Spara som (.json)</span>
          </button>

          <button id="loadJsonBtn" title="Ladda upp JSON" data-i18n-title="title_load_json">
            <span class="material-icons btn-icon">upload_file</span>
            <span data-i18n="btn_load_json">Ladda upp (.json)</span>
          </button>
          <input id="loadJsonInput" type="file" accept=".json" style="display:none" />

          <div class="grow"></div>
          <div id="saveStatus" class="save-status"></div>

          <!-- Högerställd primärknapp (kan vara disabled) -->
          <button
  id="sumButtonMobile"
  type="button"
  class="btn btn--primary btn--champagne sum-btn"
  title="Visa sammanställning"
  data-i18n-title="title_calculate_totals"
  data-i18n-aria-label="btn_calculate_totals"
  aria-label="Sammanställ"
  aria-haspopup="dialog"
  aria-controls="summaryModal"
  aria-expanded="false">
  <span data-i18n="btn_calculate_totals">Sammanställ</span>
</button>

        </div>
      </div>
      <!-- Direkt efter .appbar (inne i #appbarWrapper) -->
<div id="toolsBackdrop" class="tools-backdrop" hidden></div>

    </div>

   <!-- Scen -->
<div id="canvasContainer" class="container canvas-card">
  <div class="canvas-viewport">
    <canvas id="canvas" width="3000" height="2000"></canvas>
    <canvas id="wallCanvas" width="3000" height="2000"></canvas>
  </div>
</div>

<!-- Hjälpmodal: Rita vägg -->
<div id="wallHelp" class="modal" aria-hidden="true">
  <div class="modal__backdrop" data-close></div>
  <div class="modal__dialog" role="dialog" aria-modal="true"
       aria-labelledby="wallHelpTitle" aria-describedby="wallHelpDesc">
    <button class="modal__close" type="button" data-close aria-label="Stäng">×</button>

    <h2 id="wallHelpTitle" data-i18n="wall_help_title"></h2>

    <div id="wallHelpDesc" class="modal__content">
      <ol>
        <li data-i18n-html="wall_help_step1_html"></li>
        <li data-i18n-html="wall_help_step2_html"></li>
        <li data-i18n-html="wall_help_step3_html"></li>
        <li data-i18n-html="wall_help_step4_html"></li>
        <li data-i18n-html="wall_help_step5_html"></li>
      </ol>
    
      <label class="modal__check">
        <input type="checkbox" id="wallHelpDontShow">
        <span data-i18n="wall_help_dont_show"></span>
      </label>
    </div>
    

    <div class="modal__actions">
      <button id="wallHelpOk" data-i18n="ok_got_it"></button>
    </div>
  </div>
</div>

    
    
    
    <div id="userFormBox" class="container"></div>

    <!-- Backdrops/Modals (behåller dina ID:n) -->
  

    <div id="checklistContainer"
     class="modal-panel"
     role="dialog"
     aria-modal="true"
     aria-labelledby="checklistTitle"
     aria-hidden="true">

  <button id="closeChecklistBtn" class="close-modal no-print" aria-label="Stäng">×</button>
  <h2 id="checklistTitle" data-i18n="checklist_title">Checklista</h2>

  <ul id="checklist">
    <li>
      <label>
        <input type="checkbox" data-id="lokal">
        <span data-i18n="check_lokal">Lokal</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="inbjudningar">
        <span data-i18n="check_invitations">Inbjudningar</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="catering">
        <span data-i18n="check_catering">Catering</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="dekorationer">
        <span data-i18n="check_decorations">Dekorationer</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="musik">
        <span data-i18n="check_music">Musik</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="fotograf">
        <span data-i18n="check_photographer">Fotograf</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="transport">
        <span data-i18n="check_transport">Transport</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="boende">
        <span data-i18n="check_accommodation">Boende</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="underhallning">
        <span data-i18n="check_entertainment">Underhållning</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="matdryck">
        <span data-i18n="check_food_drink">Mat &amp; Dryck</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="kladsel">
        <span data-i18n="check_attire_beauty">Klädsel &amp; Skönhet</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>

    <li>
      <label>
        <input type="checkbox" data-id="budget">
        <span data-i18n="check_budget">Budget</span>
      </label>
      <button class="remove-item"><span data-i18n="btn_remove">Ta bort</span></button>
    </li>
  </ul>

  <div class="controls">
    <input id="newChecklistItem"
           type="text"
           placeholder="Ny punkt"
           data-i18n-placeholder="check_item_placeholder">
    <button id="addChecklistItemBtn" data-i18n="btn_add_item">Lägg till</button>
    <button id="downloadChecklistBtn" class="no-print"
            data-i18n="btn_download"
            data-i18n-title="title_download"
            title="Ladda ner">
      Ladda ner
    </button>
    <button id="exportChecklistCsvBtn"
        class="no-print"
        data-i18n="btn_download_CSV"
            data-i18n-title="title_download_CSV"
        onclick="exportChecklistCSV()"
        title="Ladda ner spreadsheet (CSV)">
  Download spreadsheet
</button>

  </div>
</div>


<!-- Gästlista: overlay + modal (en enda instans) -->
<div id="guestModalOverlay" class="no-print" style="display:none"></div>

<div id="guestListContainer"
     class="guestlist-modal"
     role="dialog" aria-modal="true"
     aria-labelledby="guestListTitle"
     aria-hidden="true">
  <button id="closeGuestListBtn" class="close-modal no-print" aria-label="Stäng" onclick="closeGuestList()">×</button>
  <h2 id="guestListTitle">Gästlista</h2>

  <!-- Viktigt: UL som JS kan fylla -->
  <ul id="guestList"></ul>

  <div class="controls">
    <button type="button" onclick="downloadGuestList()">Ladda ner</button>
    <button type="button" onclick="exportGuestList('csv')">Exportera CSV</button>
  </div>
</div>

<!-- AI-bordsplacering -->
<div id="aiSeatingModal" class="modal" aria-hidden="true">
  <div class="modal__backdrop" data-close></div>
  <div class="modal__dialog" role="dialog" aria-modal="true"
       aria-labelledby="aiSeatingTitle" aria-describedby="aiSeatingDesc">
    <button class="modal__close" type="button" data-close aria-label="Stäng">×</button>

    <h2 id="aiSeatingTitle" data-i18n="ai_title">AI-placering</h2>

    <div id="aiSeatingDesc" class="modal__content">
      <p data-i18n="ai_intro">
        Lägg till gästerna i listan, välj bordstyp och låt verktyget
        skapa en smart bordsplacering.
      </p>
    

      <fieldset>
        <legend data-i18n="ai_tabletype">Bordstyp</legend>
        <label>
          <input type="radio" name="aiTableShape" value="round" checked>
          <span data-i18n="ai_round">Runda bord (8 platser/bord)</span>
        </label><br>
        <label>
          <input type="radio" name="aiTableShape" value="rect">
          <span data-i18n="ai_rect">Långbord (8 platser/bord)</span>
        </label>
      </fieldset>
      

      <h3><strong data-i18n="ai_guestlist_heading">Gästlista</strong></h3>
<p class="modal__hint" data-i18n="ai_hint">
  Namn är obligatoriskt. Ålder, familj/vän, roll och språk är valfria men
  hjälper verktyget att placera smartare.
</p>


<div class="ai-guestlist">
  <div class="ai-guestlist__toolbar">
    <button type="button" id="aiAddGuestRowBtn" data-i18n="btn_add_guest">
      Lägg till gäst
    </button>
  </div>


  <table class="ai-guestlist__table">
    <thead>
      <tr>
        <th data-i18n="ai_col_name">Namn</th>
        <th data-i18n="ai_col_age">Ålder</th>
        <th data-i18n="ai_col_group">Familj/vän</th>
        <th data-i18n="ai_col_role">Roll</th>
        <th data-i18n="ai_col_lang">Språk</th>
        <th></th>
      </tr>
    </thead>
    <tbody id="aiGuestTableBody">
      <!-- Rader skapas via JavaScript -->
    </tbody>
  </table>
  
      </div>
    </div>

    <div class="modal__actions">
      <button type="button" id="aiGenerateBtn" data-i18n="ai_generate">
        Skapa bordsplacering
      </button>
      <button type="button" data-close data-i18n="cancel">
        Avbryt
      </button>
    </div>
    
  </div>
</div>




    <div class="floating-buttons" id="floatingButtons">
      <!-- Valberoende knappar -->
      <div class="fb-stack fb-stack--selection" id="floatSel">
        <button onclick="rotateSelected()" disabled><span class="material-icons">rotate_right</span></button>
        <button onclick="renameTable()" disabled><span class="material-icons">drive_file_rename_outline</span></button>
        <button onclick="removeSelected()" disabled><span class="material-icons">delete_outline</span></button>
      </div>
    
      <!-- Globala knappar (alltid aktiva) -->
      <div class="fb-stack fb-stack--global" id="floatGlobal">
        <button id="toggleAxesBtn" onclick="toggleAxes()" aria-label="Visa/Dölj avstånd">
          <span class="material-icons">straighten</span>
        </button>
    
        <!-- Helskärm -->
        <button id="fullscreenBtn" class="fs-toggle" title="Helskärm" data-i18n-title="btn_fullscreen_enter" aria-label="Helskärm">
          <span class="material-icons" id="fullscreenIcon" aria-hidden="true">fullscreen</span>
        </button>
      </div>
    </div>
    
    <div id="helpModal" class="help-modal" role="dialog" aria-modal="true"
    aria-labelledby="helpTitle" aria-hidden="true">
 <button id="closeHelpBtn" class="close-modal no-print"
         data-i18n-aria-label="help_close" aria-label="Close">×</button>

 <h2 id="helpTitle" data-i18n="help_title">How to use the drawing tool</h2>
 <p data-i18n="help_intro">Here's how to use the drawing tool:</p>
 <ol class="help-list">
   <li data-i18n="help_step1">Choose a table type in the menu and click “Add table”.</li>
   <li data-i18n="help_step2">Drag the tables to where you want them on the floor plan.</li>
   <li data-i18n="help_step3">Add guests.</li>
   <li data-i18n="help_step4">Click “Summarize” to see an overview.</li>
   <li data-i18n="help_step5">Use the guest list and checklist as a guide.</li>
 </ol>
</div>


  </main>
  <div id="modalOverlay" style="display:none"></div>

  <!-- Lägg detta nära modalen, t.ex. precis före #summaryModal -->
<div id="summaryBox" style="display:none"></div>


<div id="summaryModal" class="summary-modal" role="dialog"
     aria-modal="true" aria-labelledby="summaryTitle"
     aria-hidden="true">
  <button type="button" class="close-modal" id="closeSummary" aria-label="Stäng">×</button>
  <h3 id="summaryTitle" data-i18n="sum_heading">Sammanställning:</h3>
  <div id="summaryContent"></div>
</div>


  <!-- ===== Footer ===== -->
  <footer class="site-footer">
    <div class="container footer__row">
      <p class="footer__copy">
        © <span id="year"></span> <span data-i18n="footer_brand"></span>
      </p>
      <nav class="footer__links" aria-label="Sidfotslänkar">
        <a href="./om.html" data-i18n="footer_about"></a>
        <a href="./villkor.html" data-i18n="footer_terms"></a>
        <a href="./kontakt.html" data-i18n="footer_contact"></a>
      </nav>
    </div>
  </footer>

  <!-- JS (ordning viktig) -->
  <script src="./scripts/main.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" defer></script>

  <!-- Dina script – behåll samma ID:n så lang.js hittar dem -->
  <script src="./scripts/lang.js" defer></script>
  <script src="./scripts/ritverktyg.js" defer></script>
  <script src="./scripts/bestallning.js" defer></script>
  <script src="./scripts/kontaktform.js" defer></script>
  
  <script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
  <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt="" /></noscript>
</body>
</html>
